"use strict";$(document).foundation(),function(){var e,t=640,n=1024,o=document.querySelector("#button"),r=window.matchMedia("(min-width:640px)"),c=window.matchMedia("(min-width:1024px)");function i(){if(null!==document.querySelector("#result")){fetch("admin/controller.php?steps").then(function(e){return e.json()}).then(function(t){!function(t){var n=t,o=document.querySelector("#result");function r(t){var r=document.querySelectorAll(".steps p");for(r.forEach(function(e){e.style.borderBottom="7px solid white"}),t.target.style.borderBottom="7px solid #3b3a3a";o.firstChild;)o.removeChild(o.firstChild);var c=t.target.id;if("medium"==e||"large"==e){var i=document.createElement("img");i.classList.add("icon"),i.src="img/"+n[c].steps_img,o.appendChild(i)}var l=document.createElement("div"),d=document.createElement("h3");d.innerHTML=n[c].steps_title;var a=document.createElement("p");a.innerHTML=n[c].steps_desc,l.append(d,a),o.appendChild(l),o.scrollIntoView({block:"end",inline:"nearest",behavior:"smooth"})}document.querySelectorAll(".steps").forEach(function(e,t){e.addEventListener("click",r,!1)})}(t)}).catch(function(e){console.log(e)})}}function l(){e=window.innerWidth<t?"small":window.innerWidth<n?"medium":"large"}function d(){if(null!==document.querySelector("#projects")){fetch("admin/controller.php?projects").then(function(e){return e.json()}).then(function(e){a(e)}).catch(function(e){console.log(e)}),document.querySelectorAll(".categories").forEach(function(e,t){e.addEventListener("click",s,!1)})}}function a(t){for(var n=document.querySelector("#projects");n.firstChild;)n.removeChild(n.firstChild);function o(t){var n="admin/controller.php?proj="+t.target.dataset.id;fetch(n).then(function(e){return e.json()}).then(function(t){!function(t){if(null!==t){for(var n=document.body,o=document.querySelector(".lightbox"),r=o.querySelector(".cover-img"),c=o.querySelector(".box-img"),i=document.querySelector(".close-box"),l=o.querySelector(".header"),d=o.querySelector(".proj-text");d.firstChild;)d.removeChild(d.firstChild);n.classList.add("noscroll"),o.style.display="block",r.src="img/"+t.project_cover,c.src="img/"+e+t.project_img,l.style.backgroundColor=t.project_colour;var a=document.createElement("h1");if(a.innerHTML=t.project_name,d.appendChild(a),null!==t.project_client){var s=document.createElement("p");s.innerHTML=t.project_client,d.appendChild(s)}var u=document.createElement("p");if(u.innerHTML=t.project_description,d.appendChild(u),null!==t.project_url){var m=document.createElement("a"),h=o.querySelector(".proj-text");m.href=t.project_url,m.innerHTML=t.project_url,h.appendChild(m)}i.addEventListener("click",function(){o.style.display="none",n.classList.remove("noscroll")},!1)}}(t)}).catch(function(e){console.log(e)})}t.forEach(function(t){var o=t.project_id,r=t.project_name,c=t.project_thumb,i=document.createElement("div"),l=document.createElement("img");l.src="img/"+e+c,l.dataset.id=o;var d=document.createElement("h3");d.classList.add("title"),d.innerHTML=r,d.dataset.id=o,i.classList.add("proj-div"),i.append(l,d),n.appendChild(i)}),n.querySelectorAll("div").forEach(function(e){e.addEventListener("click",o,!1)})}function s(e,t){e.preventDefault();var n=e.currentTarget.dataset.id;fetch("admin/controller.php?filter="+n).then(function(e){return e.json()}).then(function(e){a(e)}).catch(function(e){console.log(e)})}function u(){fetch("admin/controller.php?language").then(function(e){return e.json()}).then(function(e){!function(e){var t=document.querySelector(".honeycomb"),n=document.querySelector(".lang-desc");for(;t.firstChild;)t.removeChild(t.firstChild);e.forEach(function(e){var o=e.lang_id,r=e.lang_name,c=e.lang_thumb,i=e.lang_desc,l='<div class="hex" data-id="'+o+'" style="background-image:url(img/'+c+')">\n                    </div>',d='<div class="hoverDiv" data-id="'+o+'">\n                        <h3>'+r+"</h3>\n                        <p>"+i+"</p>\n                    </div>";n.innerHTML+=d,t.innerHTML+=l}),t.querySelectorAll(".hex").forEach(function(e){e.addEventListener("click",function(e){for(var t=document.querySelectorAll(".hoverDiv"),n=0;n<t.length;n++)t[n].classList.remove("select");var o=e.currentTarget.dataset.id;document.querySelector(".lang-desc [data-id='"+o+"']").classList.add("select")},!1)})}(e)}).catch(function(e){console.log(e)})}window.addEventListener("load",function(){l(),d(),u(),i()},!1),window.addEventListener("resize",l,!1),o.addEventListener("click",function(){o.classList.contains("open")?document.body.style.overflow="scroll":(window.scrollTo(0,0),document.body.style.overflow="hidden")},!1),c.addListener(function(e){e.matches?(d(),u(),i()):r.matches&&(d(),u(),i())})}(),function(){document.querySelector("#hamburg").addEventListener("click",function(){var e=document.querySelector(".hamb-menu3"),t=document.querySelector("#button");e.classList.toggle("is-open"),t.classList.toggle("open")},!1)}();var slides={images:["_torres_001-3883.jpg","_torres_004-3373.jpg","_torres_019-3515.jpg","_torres_043-3826.jpg","_torres_046-3875.jpg","_torres_047-3886.jpg"]};!function(){var e,t=!0,n=0;function o(e){var t=document.querySelectorAll(".slide");t[n].classList.remove("active"),t[n=(e+t.length)%t.length].classList.add("active")}function r(){o(n+1)}function c(){e=setInterval(r,4e3),t=!0}function i(){t?l():c()}function l(){t=!1,clearInterval(e)}window.addEventListener("load",function(){if(null!==document.querySelector("#photo-land")){var e,t=document.querySelector("#photo-land"),d=document.querySelector("#next"),a=document.querySelector("#previous"),s=640,u=1024,m=1200;e=window.innerWidth<s?"small":window.innerWidth<u?"medium":window.innerWidth<m?"large":"xlarge",console.log(e);for(var h=slides.images,f=0;f<h.length;f++){var p=document.createElement("img");p.src="img/"+e+h[f],p.classList.add("slide"),t.appendChild(p)}d.onclick=function(){l(),r()},a.onclick=function(){l(),console.log("previous"),o(n-1)},c(),t.addEventListener("click",i,!1)}},!1)}();