"use strict";$(document).foundation(),function(){var e,t=640,n=1024,o=document.querySelector("#button"),c=window.matchMedia("(min-width:640px)"),r=window.matchMedia("(min-width:1024px)");function i(){if(null!==document.querySelector("#result")){fetch("admin/controller.php?steps").then(function(e){return e.json()}).then(function(t){!function(t){var n=t,o=document.querySelector("#result");function c(t){var c=document.querySelectorAll(".steps p");for(c.forEach(function(e){e.style.borderBottom="7px solid white"}),t.target.style.borderBottom="7px solid #3b3a3a";o.firstChild;)o.removeChild(o.firstChild);var r=t.target.id;if("medium"==e||"large"==e){var i=document.createElement("img");i.classList.add("icon"),i.src="img/"+n[r].steps_img,o.appendChild(i)}var l=document.createElement("div"),d=document.createElement("h3");d.innerHTML=n[r].steps_title;var a=document.createElement("p");a.innerHTML=n[r].steps_desc,l.append(d,a),o.appendChild(l),o.scrollIntoView({block:"end",inline:"nearest",behavior:"smooth"})}document.querySelectorAll(".steps").forEach(function(e,t){e.addEventListener("click",c,!1)})}(t)}).catch(function(e){console.log(e)})}}function l(){e=window.innerWidth<t?"small":window.innerWidth<n?"medium":"large"}function d(){if(null!==document.querySelector("#projects")){fetch("admin/controller.php?projects").then(function(e){return e.json()}).then(function(e){a(e)}).catch(function(e){console.log(e)}),document.querySelectorAll(".categories").forEach(function(e,t){e.addEventListener("click",u,!1)})}}function a(t){for(var n=document.querySelector("#projects");n.firstChild;)n.removeChild(n.firstChild);function o(t){var n="admin/controller.php?proj="+t.target.dataset.id;fetch(n).then(function(e){return e.json()}).then(function(t){!function(t){if(null!==t){for(var n=document.body,o=document.querySelector(".lightbox"),c=o.querySelector(".cover-img"),r=o.querySelector(".box-img"),i=document.querySelector(".close-box"),l=o.querySelector(".header"),d=o.querySelector(".proj-text");d.firstChild;)d.removeChild(d.firstChild);n.classList.add("noscroll"),o.style.display="block",c.src="img/"+t.project_cover,r.src="img/"+e+t.project_img,l.style.backgroundColor=t.project_colour;var a=document.createElement("h1");if(a.innerHTML=t.project_name,d.appendChild(a),null!==t.project_client){var u=document.createElement("p");u.innerHTML=t.project_client,d.appendChild(u)}var s=document.createElement("p");if(s.innerHTML=t.project_description,d.appendChild(s),null!==t.project_url){var m=document.createElement("a"),h=o.querySelector(".proj-text");m.href=t.project_url,m.innerHTML=t.project_url,h.appendChild(m)}i.addEventListener("click",function(){o.style.display="none",n.classList.remove("noscroll")},!1)}}(t)}).catch(function(e){console.log(e)})}t.forEach(function(t){var o=t.project_id,c=t.project_name,r=t.project_thumb,i=document.createElement("div"),l=document.createElement("img");l.src="img/"+e+r,l.dataset.id=o;var d=document.createElement("h3");d.classList.add("title"),d.innerHTML=c,d.dataset.id=o,i.classList.add("proj-div"),i.append(l,d),n.appendChild(i)}),n.querySelectorAll("div").forEach(function(e){e.addEventListener("click",o,!1)})}function u(e,t){e.preventDefault();var n=e.currentTarget.dataset.id;fetch("admin/controller.php?filter="+n).then(function(e){return e.json()}).then(function(e){a(e)}).catch(function(e){console.log(e)})}function s(){fetch("admin/controller.php?language").then(function(e){return e.json()}).then(function(e){!function(e){var t=document.querySelector(".honeycomb"),n=document.querySelector(".lang-desc");for(;t.firstChild;)t.removeChild(t.firstChild);e.forEach(function(e){var o=e.lang_id,c=e.lang_name,r=e.lang_thumb,i=e.lang_desc,l='<div class="hex" data-id="'+o+'" style="background-image:url(img/'+r+')">\n                    </div>',d='<div class="hoverDiv" data-id="'+o+'">\n                        <h3>'+c+"</h3>\n                        <p>"+i+"</p>\n                    </div>";n.innerHTML+=d,t.innerHTML+=l}),t.querySelectorAll(".hex").forEach(function(e){e.addEventListener("click",function(e){for(var t=document.querySelectorAll(".hoverDiv"),n=0;n<t.length;n++)t[n].classList.remove("select");var o=e.currentTarget.dataset.id;document.querySelector(".lang-desc [data-id='"+o+"']").classList.add("select")},!1)})}(e)}).catch(function(e){console.log(e)})}window.addEventListener("load",function(){l(),d(),s(),i()},!1),window.addEventListener("resize",l,!1),o.addEventListener("click",function(){o.classList.contains("open")?document.body.style.overflow="scroll":(window.scrollTo(0,0),document.body.style.overflow="hidden")},!1),r.addListener(function(e){e.matches?(d(),s(),i()):c.matches&&(d(),s(),i())})}(),function(){document.querySelector("#hamburg").addEventListener("click",function(){var e=document.querySelector(".hamb-menu3"),t=document.querySelector("#button");e.classList.toggle("is-open"),t.classList.toggle("open")},!1)}();