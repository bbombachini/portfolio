"use strict";$(document).foundation();var screensize,MIN=320,MEDIUM=640,LARGE=1024,XLARGE=1200,curSize="large";function checkScreenSize(){this<MEDIUM||window.innerWidth<MEDIUM?screensize="small":this<LARGE||window.innerWidth<LARGE?screensize="medium":window.innerWidth>LARGE&&(screensize="large")}function setImageSize(){for(var e=0;e<this.length;e++)this[e].src=this[e].src.replace("large",screensize);curSize=screensize}function changeImageSize(){if(curSize!==screensize){for(var e=document.querySelectorAll(".media-change"),n=0;n<e.length;n++)e[n].src=e[n].src.replace(curSize,screensize);for(var t=document.querySelectorAll(".video-change"),r=0;r<t.length;r++)t[r].poster=t[r].poster.replace(curSize,screensize);curSize=screensize}}checkScreenSize.call(window.innerWidth),setImageSize.call(document.querySelectorAll(".media-change")),window.addEventListener("resize",checkScreenSize,!1),window.addEventListener("resize",changeImageSize,!1),function(){var e,n=640,t=1024;if(document.querySelector("#button")){var r=document.querySelector("#button");r.addEventListener("click",function(){r.classList.contains("open")?document.body.style.overflow="scroll":(window.scrollTo(0,0),document.body.style.overflow="hidden")},!1)}var c=window.matchMedia("(min-width:640px)"),o=window.matchMedia("(min-width:1024px)");function i(){if(null!==document.querySelector("#result")){fetch("admin/controller.php?steps").then(function(e){return e.json()}).then(function(n){!function(n){var t=n,r=document.querySelector("#result");function c(n){var c=document.querySelectorAll(".steps p");for(console.log(c),c.forEach(function(e){e.style.borderBottom="7px solid white"}),n.target.style.borderBottom="7px solid #3b3a3a";r.firstChild;)r.removeChild(r.firstChild);var o=n.target.id;if("medium"==e||"large"==e){var i=document.createElement("img");i.classList.add("icon"),i.src="img/"+t[o].steps_img,r.appendChild(i)}var l=document.createElement("div"),d=document.createElement("h3");d.innerHTML=t[o].steps_title;var s=document.createElement("p");s.innerHTML=t[o].steps_desc,l.append(d,s),r.appendChild(l),r.scrollIntoView({block:"end",inline:"nearest",behavior:"smooth"})}document.querySelectorAll(".steps").forEach(function(e,n){e.addEventListener("click",c,!1)})}(n)}).catch(function(e){console.log(e)})}}function l(){e=window.innerWidth<n?"small":window.innerWidth<t?"medium":"large",console.log(e)}function d(){if(null!==document.querySelector("#projects")){fetch("admin/controller.php?projects").then(function(e){return e.json()}).then(function(e){s(e)}).catch(function(e){console.log(e)}),document.querySelectorAll(".categories").forEach(function(e,n){e.addEventListener("click",a,!1)})}}function s(n){for(var t=document.querySelector("#projects");t.firstChild;)t.removeChild(t.firstChild);n.forEach(function(n){var r=n.project_id,c=n.project_name,o=n.project_thumb,i='<a href="portfolio/project.php?project='+c+"&id="+r+'"><div class="proj-div"><img src="img/'+e+o+'" data-id="'+r+'"><h3 class="title" data-id="'+r+'">'+c+"</h3></div></a>";t.innerHTML+=i})}function a(e,n){e.preventDefault();var t=e.currentTarget.dataset.id;fetch("admin/controller.php?filter="+t).then(function(e){return e.json()}).then(function(e){s(e)}).catch(function(e){console.log(e)})}function u(){fetch("admin/controller.php?language").then(function(e){return e.json()}).then(function(e){!function(e){var n=document.querySelector(".honeycomb"),t=document.querySelector(".lang-desc");for(;n.firstChild;)n.removeChild(n.firstChild);e.forEach(function(e){var r=e.lang_id,c=e.lang_name,o=e.lang_thumb,i=e.lang_desc,l='<div class="hex" data-id="'+r+'" style="background-image:url(img/'+o+')">\n                    </div>',d='<div class="hoverDiv" data-id="'+r+'">\n                        <h3>'+c+"</h3>\n                        <p>"+i+"</p>\n                    </div>";t.innerHTML+=d,n.innerHTML+=l}),n.querySelectorAll(".hex").forEach(function(e){e.addEventListener("click",function(e){for(var n=document.querySelectorAll(".hoverDiv"),t=0;t<n.length;t++)n[t].classList.remove("select");var r=e.currentTarget.dataset.id;document.querySelector(".lang-desc [data-id='"+r+"']").classList.add("select")},!1)})}(e)}).catch(function(e){console.log(e)})}window.addEventListener("load",function(){l(),d(),i(),document.querySelector("#fluent")&&u()},!1),window.addEventListener("resize",l,!1),o.addListener(function(e){e.matches?(d(),i(),document.querySelector("#fluent")&&u()):c.matches&&(d(),i(),document.querySelector("#fluent")&&u())})}(),function(){if(document.querySelector("#hamburg")){document.querySelector("#hamburg").addEventListener("click",function(){var e=document.querySelector(".hamb-menu3"),n=document.querySelector("#button");e.classList.toggle("is-open"),n.classList.toggle("open")},!1)}}();var slides={images:["_torres_001-3883.jpg","_torres_004-3373.jpg","_torres_019-3515.jpg","_torres_043-3826.jpg","_torres_046-3875.jpg","_torres_047-3886.jpg"]};!function(){var e,n=!0,t=0;function r(e){var n=document.querySelectorAll(".slide");n[t].classList.remove("active"),n[t=(e+n.length)%n.length].classList.add("active")}function c(){r(t+1)}function o(){e=setInterval(c,4e3),n=!0}function i(){n?l():o()}function l(){n=!1,clearInterval(e)}window.addEventListener("load",function(){if(null!==document.querySelector("#photo-land")){for(var e=document.querySelector("#photo-land"),n=document.querySelector("#next"),d=document.querySelector("#previous"),s=slides.images,a=0;a<s.length;a++){var u=document.createElement("img");u.src="img/"+screenSize+s[a],u.classList.add("slide"),e.appendChild(u)}n.onclick=function(){l(),c()},d.onclick=function(){l(),console.log("previous"),r(t-1)},o(),e.addEventListener("click",i,!1)}},!1)}();